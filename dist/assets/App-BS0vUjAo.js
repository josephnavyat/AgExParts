import{j as e,L as d,R as y}from"./index-PZtE8jMc.js";import{N as j}from"./Navbar-BThQrc94.js";import{g as p}from"./imageUrl-BC-b4leq.js";import{F as w}from"./Footer-sikTjvGv.js";const m=({title:s,tag:h,note:l,to:t,image:r})=>{const i=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card-content",children:[e.jsx("span",{className:"pill",children:h}),e.jsx("h3",{children:s}),e.jsx("p",{className:"muted",children:l})]}),r&&e.jsx("div",{className:"card-footer",children:e.jsx("img",{className:"card-image",src:p(r),alt:s,loading:"lazy"})})]});return t?e.jsx(d,{className:"card card--with-image",to:t,children:i}):e.jsx("div",{className:"card card--with-image",children:i})},f={Tillage:"/tillage.png",Harvesting:"/harvesting.png","Hay and Forage":"/hay_and_forage.png",Mowing:"/mowing.png"},N=()=>{const[s,h]=y.useState({});return y.useEffect(()=>{let l=!0;return(async()=>{try{const t=await fetch("/.netlify/functions/get-data");if(!t.ok)throw new Error("fetch failed");const r=await t.json();let i=[];Array.isArray(r)?i=r:r&&Array.isArray(r.products)&&(i=r.products);const x=a=>{if(!a)return null;if(typeof a.image=="string"&&a.image.trim())return a.image.trim();if(Array.isArray(a.images)&&a.images.length&&typeof a.images[0]=="string")return a.images[0];if(Array.isArray(a.gallery)&&a.gallery.length&&typeof a.gallery[0]=="string")return a.gallery[0];if(Array.isArray(a.photos)&&a.photos.length&&typeof a.photos[0]=="string")return a.photos[0];const o=["images","gallery","photos"];for(const n of o)if(Array.isArray(a[n])&&a[n].length){const c=a[n][0];if(c&&typeof c=="object"){if(c.src)return c.src;if(c.url)return c.url}}return null},u=["Tillage","Harvesting","Hay and Forage","Mowing"],g={};for(const a of u)g[a]=null;for(const a of i){if(!a||!a.category)continue;const o=String(a.category).trim();if(!u.includes(o)||g[o])continue;const n=x(a);n&&(g[o]=n)}l&&h(g)}catch{}})(),()=>{l=!1}},[]),e.jsxs("div",{className:"card-grid",children:[e.jsx(m,{tag:"Tillage",to:"/categories/Tillage",image:s.Tillage||f.Tillage}),e.jsx(m,{tag:"Harvest",to:"/categories/Harvesting",image:s.Harvesting||f.Harvesting}),e.jsx(m,{tag:"Hay and Forage",to:"/categories/Hay%20and%20Forage",image:s["Hay and Forage"]||f["Hay and Forage"]}),e.jsx(m,{tag:"Mowing",to:"/categories/Mowing",image:s.Mowing||f.Mowing})]})};function v(){return e.jsx("header",{className:"hero",role:"banner",style:{"--hero":"url(/hero-16x9.png)"},children:e.jsxs("div",{className:"hero-content container",children:[e.jsx("span",{className:"kicker",children:"Trusted farm parts"}),e.jsx("h2",{children:"Keeping your equipment in the field"}),e.jsx("p",{children:"OEM & aftermarket parts, fast shipping, and expert support. From tillage to hydraulics — we’ve got the parts that keep you running."}),e.jsxs("div",{className:"cta-row",children:[e.jsx(d,{className:"btn primary",to:"/catalog",children:"Browse Catalog"}),e.jsx(d,{className:"btn secondary",to:"/contact-parts-specialist",children:"Talk to Parts Expert"})]}),e.jsx("div",{className:"container",children:e.jsx(N,{})})]})})}function M(){return e.jsxs(e.Fragment,{children:[e.jsx(j,{}),e.jsx(v,{}),e.jsx("main",{}),e.jsx(w,{})]})}export{M as default};
