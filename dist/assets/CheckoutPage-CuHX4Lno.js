import{u as le,r as u,j as e,b as de}from"./index-PZtE8jMc.js";function ue({cart:o,fromAddress:f,toAddress:W,onRates:A,onResponse:w,onSelect:N,compact:se,showResults:Z,inlineResults:l=!0}){const{dispatch:z}=le(),[P,G]=u.useState(!1),[g,k]=u.useState(null),[D,L]=u.useState(null),[B,H]=u.useState(null),[O,q]=u.useState(null),X=()=>{let r=0;for(const i of o.items){const a=i.product.weight||1;r+=a*16*i.quantity}return r},T=async()=>{var r,i,a;G(!0),H(null),k(null);try{const n=(r=o.items[0])==null?void 0:r.product,y=h=>h?h/25.4:void 0,v={length:y(n==null?void 0:n.length_mm)||10,width:y(n==null?void 0:n.width_mm)||8,height:y(n==null?void 0:n.height_mm)||4,distance_unit:"in",weight:X(),mass_unit:"oz"},I=W||o.shippingAddress||{name:"Customer",street1:"1438 8th St",city:"Santa Monica",state:"CA",zip:"90405",country:"US"};console.log("Shipping to:",I),console.log("Parcel:",v);const j=await(await fetch("/.netlify/functions/get-shipping-rates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to_address:I,from_address:f,parcel:v})})).json();if(j.estes_quote?L(j.estes_quote):L(null),j.rates){const h=Array.isArray(j.rates)?j.rates.slice():[];h.sort((x,p)=>Number(x.amount||0)-Number(p.amount||0));const d=h[0];if(k(h),d){q(d.object_id);try{z({type:"SET_SHIPPING_COST",shipping:{cost:Number(d.amount),label:`${d.provider} ${((i=d.servicelevel)==null?void 0:i.name)||((a=d.servicelevel)==null?void 0:a.token)||""}`,rateId:d.object_id},cost:Number(d.amount),rate:d})}catch(x){console.error("Failed to dispatch shipping selection",x)}if(typeof N=="function")try{N(d)}catch(x){console.warn("onSelect handler failed",x)}}typeof w=="function"&&w({rates:h,selected:d}),typeof A=="function"&&A(h)}else H(j.error||"No rates found");if(!j.rates&&j.estes_quote){const h=Object.values(j.estes_quote).filter(d=>Array.isArray(d)&&d.length>0);if(h.length>0){const x=h[0].map((p,ee)=>{const U=Number(p.amount||p.price||p.rate||p.total&&p.total.amount||0);return{amount:U?String(U):"0.00",object_id:p.id||p.quoteId||`estes-${ee}`,provider:"Estes",servicelevel:{name:p.service||p.serviceLevel||p.name||"Estes Freight",token:p.service||null},estimated_days:p.transit_days||p.delivery_days||null,currency:p.currency||"USD",raw:p}});k(x),typeof A=="function"&&A(x)}}}catch(n){H(n.message)}finally{G(!1)}};return e.jsxs("div",{style:{margin:"1.5rem 0"},children:[e.jsx("button",{className:"btn secondary",style:{fontWeight:600,fontSize:"1rem",borderRadius:8,padding:"0.7rem 2rem"},onClick:T,disabled:P,children:P?"Getting Shipping Rates...":"Calculate Shipping"}),B&&e.jsx("div",{style:{color:"#d32f2f",marginTop:8},children:B}),l&&g&&g.length>0&&e.jsxs("div",{style:{marginTop:12},children:[e.jsx("b",{children:"Shipping Rates:"}),e.jsx("ul",{style:{margin:0,padding:0,listStyle:"none"},children:(Array.isArray(g)?g.slice().sort((i,a)=>Number(i.amount||0)-Number(a.amount||0)):[]).map(i=>{var a,n;return e.jsxs("li",{style:{margin:"6px 0",display:"flex",alignItems:"center",gap:8},children:[e.jsx("input",{type:"radio",name:"shippingRate",value:i.object_id,checked:O===i.object_id,onChange:()=>{var y,v;q(i.object_id);try{z({type:"SET_SHIPPING_COST",shipping:{cost:Number(i.amount),label:`${i.provider} ${((y=i.servicelevel)==null?void 0:y.name)||((v=i.servicelevel)==null?void 0:v.token)||""}`,rateId:i.object_id},cost:Number(i.amount),rate:i})}catch(I){console.error(I)}if(typeof N=="function")try{N(i)}catch(I){console.warn("onSelect handler failed",I)}}}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{fontWeight:700},children:[i.provider," ",((a=i.servicelevel)==null?void 0:a.name)||((n=i.servicelevel)==null?void 0:n.token)]}),e.jsxs("div",{style:{color:"#555"},children:[i.estimated_days||"?"," days"]})]}),e.jsxs("div",{style:{minWidth:90,textAlign:"right",fontWeight:700},children:["$",i.amount]})]},i.object_id)})})]}),l&&D&&e.jsxs("div",{style:{marginTop:12,paddingTop:12,borderTop:"1px dashed #eee"},children:[e.jsx("b",{children:"Estes Freight Options:"}),(()=>{const r=Object.values(D).filter(n=>Array.isArray(n)&&n.length>0);if(r.length===0)return e.jsx("pre",{style:{whiteSpace:"pre-wrap",fontSize:"0.85rem",color:"#333"},children:JSON.stringify(D,null,2)});const a=r[0].map((n,y)=>{const v=Number(n.amount||n.price||n.rate||n.total&&n.total.amount||0);return{amount:v?String(v):"0.00",object_id:n.id||n.quoteId||`estes-${y}`,provider:"Estes",servicelevel:{name:n.service||n.serviceLevel||n.name||"Estes Freight"},estimated_days:n.transit_days||n.delivery_days||null,raw:n}});return e.jsx("ul",{style:{margin:0,padding:0,listStyle:"none"},children:a.map(n=>{var y;return e.jsxs("li",{style:{margin:"6px 0",display:"flex",alignItems:"center",gap:8},children:[e.jsx("input",{type:"radio",name:"shippingRate",value:n.object_id,checked:O===n.object_id,onChange:()=>{q(n.object_id);try{z({type:"SET_SHIPPING_COST",shipping:{cost:Number(n.amount),label:`Estes ${n.servicelevel.name}`,rateId:n.object_id},cost:Number(n.amount),rate:n})}catch(v){console.error(v)}if(typeof N=="function")try{N(n)}catch(v){console.warn("onSelect handler failed",v)}}}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{fontWeight:700},children:[n.provider," ",(y=n.servicelevel)==null?void 0:y.name]}),e.jsxs("div",{style:{color:"#555"},children:[n.estimated_days||"?"," days"]})]}),e.jsxs("div",{style:{minWidth:90,textAlign:"right",fontWeight:700},children:["$",n.amount]})]},n.object_id)})})})()]})]})}const pe={AL:.04,AK:0,AZ:.056,AR:.065,CA:.0825,CO:.029,CT:.0635,DE:0,FL:.06,GA:.04,HI:.04,ID:.06,IL:.0625,IN:.07,IA:.06,KS:.065,KY:.06,LA:.0445,ME:.055,MD:.06,MA:.0625,MI:.06,MN:.06875,MS:.07,MO:.04225,MT:0,NE:.055,NV:.0685,NH:0,NJ:.06625,NM:.05125,NY:.04,NC:.0475,ND:.05,OH:.0575,OK:.045,OR:0,PA:.06,RI:.07,SC:.06,SD:.045,TN:.07,TX:.0625,UT:.0485,VT:.06,VA:.053,WA:.065,WV:.06,WI:.05,WY:.04};function oe(o){if(!o)return 0;const f=String(o).trim().toUpperCase();return Number(pe[f]||0)}function ne({title:o,open:f,onToggle:W,children:A,disabled:w}){return e.jsxs("section",{style:{borderRadius:12,border:"1px solid #e6e6e6",marginBottom:12,overflow:"hidden",background:"#f0f0f0"},children:[e.jsxs("button",{onClick:()=>!w&&W(!f),style:{width:"100%",textAlign:"left",padding:"14px 16px",background:"#333",color:"#fafafa",border:"none",cursor:w?"not-allowed":"pointer",fontSize:"1.05rem"},"aria-expanded":f,"aria-disabled":w,children:[e.jsx("strong",{style:{fontSize:"1.05rem"},children:o}),e.jsx("span",{style:{float:"right"},children:f?"▾":"▸"})]}),f&&e.jsx("div",{style:{padding:24},children:A})]})}function me(){u.useEffect(()=>{try{return document.body.classList.add("checkout-page"),()=>document.body.classList.remove("checkout-page")}catch{}},[]);const{cart:o,dispatch:f}=le();de();const[W,A]=u.useState(!0),[w,N]=u.useState(!1),[se,Z]=u.useState(!1),[l,z]=u.useState({name:"",street1:"",city:"",state:"",zip:"",country:"US",phone:""}),[P,G]=u.useState([]),[g,k]=u.useState({name:"",street1:"",city:"",state:"",zip:"",country:"US",phone:""}),[D,L]=u.useState(""),[B,H]=u.useState("stripe"),[O,q]=u.useState(!1),[X,T]=u.useState(!1),[r,i]=u.useState(null),[a,n]=u.useState(null),[y,v]=u.useState(null),[I,Q]=u.useState(!1),j=t=>{const s=[];return t?((!t.name||String(t.name).trim().length<2)&&s.push("Name is required"),(!t.street1||String(t.street1).trim().length<4)&&s.push("Street address is required"),(!t.city||String(t.city).trim().length<2)&&s.push("City is required"),(!t.state||!/^[A-Za-z]{2}$/.test(String(t.state).trim()))&&s.push("State must be 2-letter code"),(!t.zip||!/^[0-9]{5}(-[0-9]{4})?$/.test(String(t.zip).trim()))&&s.push("ZIP must be 5 digits (or 5+4)"),s):["Address missing"]},h=t=>j(t).length===0,d=(t,s)=>{const c={...l,[t]:s};z(c),O&&k(c),G(j(c))},x=(t,s)=>{const c={...g,[t]:s};k(c),Q(h(c))},p=t=>{if(t&&t.length>0){i(t[0]),T(!0),n(t);try{f({type:"SET_SHIPPING_COST",cost:Number(t[0].amount),rate:t[0]})}catch{}}},ee=t=>{v(t),t&&t.rates&&t.rates.length>0&&p(t.rates)};u.useEffect(()=>{if(!r&&o&&o.shipping){const t=o.shipping.rateId||o.shipping.rate_id||o.shipping.rateId;if(a&&Array.isArray(a)){const s=a.find(c=>c.object_id===t||c.raw&&c.raw.id===t);if(s){i(s),T(!0);return}}i({object_id:t||o.shipping&&o.shipping.rateId||null,amount:o.shipping.cost,provider:o.shipping.label}),T(!0)}},[o.shipping,a]),u.useEffect(()=>{var t,s;if(a&&Array.isArray(a)&&a.length>0){const m=a.slice().sort((S,R)=>Number(S.amount||0)-Number(R.amount||0))[0];if(!r||r.object_id!==m.object_id){i(m),T(!0);try{f({type:"SET_SHIPPING_COST",cost:Number(m.amount),shipping:{cost:Number(m.amount),label:`${m.provider} ${((t=m.servicelevel)==null?void 0:t.name)||((s=m.servicelevel)==null?void 0:s.token)||""}`,rateId:m.object_id}})}catch{}}}},[a]);const U=()=>{const t=j(l),s=[];if(t.length&&s.push(...t),r||s.push("Please select a shipping rate"),s.length){alert(`Cannot continue:
`+s.map(c=>`- ${c}`).join(`
`));return}A(!1),N(!0)},re=t=>{q(t),t&&(k(l),Q(h(l)),l.email&&L(l.email))},ae=()=>{if(!h(g))return alert("Please complete billing address");N(!1),Z(!0)};return e.jsxs("div",{style:{padding:24,maxWidth:840,margin:"0 auto"},children:[e.jsx("h2",{children:"Checkout"}),e.jsx(ne,{title:"Shipping Information",open:W,onToggle:A,children:e.jsxs("div",{className:"form-row",children:[e.jsx("input",{className:"form-input",placeholder:"Full name",value:l.name,onChange:t=>d("name",t.target.value)}),e.jsx("input",{className:"form-input",placeholder:"Street address",value:l.street1,onChange:t=>d("street1",t.target.value)}),e.jsx("input",{className:"form-input",placeholder:"City",value:l.city,onChange:t=>d("city",t.target.value)}),e.jsxs("div",{className:"form-row--inline",style:{margin:"0 8px"},children:[e.jsxs("select",{className:"form-input form-col-state",value:l.state,onChange:t=>d("state",t.target.value),children:[e.jsx("option",{value:"",children:"State"}),e.jsx("option",{value:"AL",children:"AL"}),e.jsx("option",{value:"AK",children:"AK"}),e.jsx("option",{value:"AZ",children:"AZ"}),e.jsx("option",{value:"AR",children:"AR"}),e.jsx("option",{value:"CA",children:"CA"}),e.jsx("option",{value:"CO",children:"CO"}),e.jsx("option",{value:"CT",children:"CT"}),e.jsx("option",{value:"DE",children:"DE"}),e.jsx("option",{value:"FL",children:"FL"}),e.jsx("option",{value:"GA",children:"GA"}),e.jsx("option",{value:"HI",children:"HI"}),e.jsx("option",{value:"ID",children:"ID"}),e.jsx("option",{value:"IL",children:"IL"}),e.jsx("option",{value:"IN",children:"IN"}),e.jsx("option",{value:"IA",children:"IA"}),e.jsx("option",{value:"KS",children:"KS"}),e.jsx("option",{value:"KY",children:"KY"}),e.jsx("option",{value:"LA",children:"LA"}),e.jsx("option",{value:"ME",children:"ME"}),e.jsx("option",{value:"MD",children:"MD"}),e.jsx("option",{value:"MA",children:"MA"}),e.jsx("option",{value:"MI",children:"MI"}),e.jsx("option",{value:"MN",children:"MN"}),e.jsx("option",{value:"MS",children:"MS"}),e.jsx("option",{value:"MO",children:"MO"}),e.jsx("option",{value:"MT",children:"MT"}),e.jsx("option",{value:"NE",children:"NE"}),e.jsx("option",{value:"NV",children:"NV"}),e.jsx("option",{value:"NH",children:"NH"}),e.jsx("option",{value:"NJ",children:"NJ"}),e.jsx("option",{value:"NM",children:"NM"}),e.jsx("option",{value:"NY",children:"NY"}),e.jsx("option",{value:"NC",children:"NC"}),e.jsx("option",{value:"ND",children:"ND"}),e.jsx("option",{value:"OH",children:"OH"}),e.jsx("option",{value:"OK",children:"OK"}),e.jsx("option",{value:"OR",children:"OR"}),e.jsx("option",{value:"PA",children:"PA"}),e.jsx("option",{value:"RI",children:"RI"}),e.jsx("option",{value:"SC",children:"SC"}),e.jsx("option",{value:"SD",children:"SD"}),e.jsx("option",{value:"TN",children:"TN"}),e.jsx("option",{value:"TX",children:"TX"}),e.jsx("option",{value:"UT",children:"UT"}),e.jsx("option",{value:"VT",children:"VT"}),e.jsx("option",{value:"VA",children:"VA"}),e.jsx("option",{value:"WA",children:"WA"}),e.jsx("option",{value:"WV",children:"WV"}),e.jsx("option",{value:"WI",children:"WI"}),e.jsx("option",{value:"WY",children:"WY"}),e.jsx("option",{value:"DC",children:"DC"})]}),e.jsx("input",{className:"form-input form-col-zip",placeholder:"ZIP",value:l.zip,onChange:t=>d("zip",t.target.value)})]}),e.jsx("input",{className:"form-input",placeholder:"Phone (optional but recommended)",value:l.phone,onChange:t=>d("phone",t.target.value)}),e.jsxs("div",{style:{marginTop:8,display:"flex",gap:8,alignItems:"center",marginLeft:8},children:[(()=>{const t={name:"Store",street1:"123 Main St",city:"Santa Monica",state:"CA",zip:"90405",country:"US",phone:"3105551212"};return e.jsx(ue,{compact:!0,inlineResults:!1,disabled:P.length>0,cart:o,toAddress:l,fromAddress:t,onRates:p,onResponse:ee,onSelect:s=>{i(s),T(!0),n(c=>c||[s])},showResults:!0})})(),e.jsx("div",{children:e.jsx("button",{onClick:U,className:"btn primary",disabled:!h(l),style:{padding:"0.45rem 1rem",fontSize:"0.95rem"},children:"Continue to Billing"})})]}),P&&P.length>0&&e.jsx("div",{style:{color:"#b00020",marginTop:10,marginLeft:8},children:P.map((t,s)=>e.jsxs("div",{style:{fontSize:"0.95rem"},children:["• ",t]},s))}),y&&!a&&e.jsxs("details",{style:{marginTop:12},children:[e.jsx("summary",{style:{cursor:"pointer"},children:"Debug: raw response"}),e.jsx("pre",{style:{whiteSpace:"pre-wrap",maxHeight:240,overflow:"auto"},children:JSON.stringify(y,null,2)})]}),a&&Array.isArray(a)&&e.jsxs("div",{style:{marginTop:12},children:[e.jsx("b",{children:"Shipping Rates (select)"}),e.jsx("ul",{style:{margin:0,padding:0,listStyle:"none"},children:a.slice().sort((t,s)=>Number(t.amount||0)-Number(s.amount||0)).map((t,s,c)=>{var m,S,R;return e.jsxs("li",{style:{margin:"6px 0",display:"flex",alignItems:"center",gap:8},children:[e.jsx("input",{type:"radio",name:"checkoutShippingRate",value:t.object_id,checked:r&&(r.object_id===t.object_id||((m=r.raw)==null?void 0:m.id)===t.object_id)||!r&&c[0]&&c[0].object_id===t.object_id,onChange:()=>{var C,E;i(t),T(!0);try{f({type:"SET_SHIPPING_COST",cost:Number(t.amount),shipping:{cost:Number(t.amount),label:`${t.provider} ${((C=t.servicelevel)==null?void 0:C.name)||((E=t.servicelevel)==null?void 0:E.token)||""}`,rateId:t.object_id}})}catch{}}}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{fontWeight:700},children:[t.provider," ",((S=t.servicelevel)==null?void 0:S.name)||((R=t.servicelevel)==null?void 0:R.token)]}),e.jsxs("div",{style:{color:"#555"},children:[t.estimated_days||"?"," days"]})]}),e.jsxs("div",{style:{minWidth:90,textAlign:"right",fontWeight:700},children:["$",t.amount]})]},t.object_id)})})]})]})}),e.jsx(ne,{title:"Billing Details",open:w,onToggle:N,disabled:!h(l)||!X,children:e.jsxs("div",{style:{display:"grid",gap:8},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("input",{type:"checkbox",checked:O,onChange:t=>re(t.target.checked)})," Use shipping details as billing"]}),!O&&e.jsxs(e.Fragment,{children:[e.jsx("input",{className:"form-input",placeholder:"Full name",value:g.name,onChange:t=>x("name",t.target.value)}),e.jsx("input",{className:"form-input",placeholder:"Street address",value:g.street1,onChange:t=>x("street1",t.target.value)}),e.jsx("input",{className:"form-input",placeholder:"City",value:g.city,onChange:t=>x("city",t.target.value)}),e.jsx("input",{className:"form-input",placeholder:"State",value:g.state,onChange:t=>x("state",t.target.value)}),e.jsx("input",{className:"form-input",placeholder:"ZIP",value:g.zip,onChange:t=>x("zip",t.target.value)}),e.jsx("input",{className:"form-input",placeholder:"Phone",value:g.phone,onChange:t=>x("phone",t.target.value)}),e.jsx("input",{className:"form-input",placeholder:"Email",value:D,onChange:t=>L(t.target.value)})]}),e.jsx("div",{style:{marginTop:8},children:e.jsx("button",{onClick:ae,className:"btn primary",children:"Continue to Payment"})})]})}),e.jsx(ne,{title:"Payment",open:se,onToggle:Z,disabled:!I&&!O,children:e.jsxs("div",{style:{display:"grid",gap:12},children:[(()=>{const t=o.items.reduce((R,C)=>{const E=Number(C.product.price),M=Number(C.product.discount_perc)||0,F=C.product.discount_end_date?new Date(C.product.discount_end_date):null,Y=new Date,b=M>0&&(!F||Y<=F)&&!isNaN(E)?E*(1-M):E;return R+b*C.quantity},0),s=o.shipping?Number(o.shipping.cost||0):0,c=Number(oe(l==null?void 0:l.state)),m=+(t*c).toFixed(2),S=+(t+m+s).toFixed(2);return e.jsxs("div",{style:{background:"#fff",padding:12,borderRadius:8},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("strong",{children:["$",t.toFixed(2)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[e.jsxs("span",{children:["Tax (",(c*100).toFixed(2),"%)"]}),e.jsxs("strong",{children:["$",m.toFixed(2)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[e.jsx("span",{children:"Shipping"}),e.jsxs("strong",{children:["$",s.toFixed(2)]})]}),e.jsx("hr",{style:{border:"none",borderTop:"1px solid #eee",margin:"8px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.1rem"},children:[e.jsx("span",{children:"Total"}),e.jsxs("strong",{children:["$",S.toFixed(2)]})]})]})})(),e.jsxs("div",{children:[e.jsx("div",{style:{marginBottom:8,color:"#333"},children:"Select a secure payment method below — you will be redirected to the provider to enter payment details."}),e.jsxs("select",{value:B,onChange:t=>H(t.target.value),className:"form-input",style:{width:240},children:[e.jsx("option",{value:"stripe",children:"Credit / Debit Card (Stripe)"}),e.jsx("option",{value:"ach",children:"Bank Transfer (ACH)"})]})]}),e.jsx("div",{style:{marginTop:12},children:e.jsx("button",{className:"btn brand",onClick:async()=>{var Y,te;if(!B)return alert("Please select a payment method");let t=null;try{window.turnstile&&typeof window.turnstile.execute=="function"&&(t=await new Promise((b,$)=>{const _=document.createElement("div");_.style.position="absolute",_.style.left="-9999px",document.body.appendChild(_);const V=document.createElement("div");_.appendChild(V);const J=window.turnstile.render(V,{sitekey:"",callback:K=>{try{document.body.removeChild(_)}catch{}b(K)}});setTimeout(()=>{try{window.turnstile.execute(J)}catch(K){try{document.body.removeChild(_)}catch{}$(K)}},50)}))}catch(b){console.warn("Turnstile error",b)}const s=o.items.reduce((b,$)=>{const _=Number($.product.price),V=Number($.product.discount_perc)||0,J=$.product.discount_end_date?new Date($.product.discount_end_date):null,K=new Date,ce=V>0&&(!J||K<=J)&&!isNaN(_)?_*(1-V):_;return b+ce*$.quantity},0),c=o&&o.shipping?Number(o.shipping.cost||0):o&&o.shipping_cost?Number(o.shipping_cost):0,m=Number(oe(l==null?void 0:l.state)),S=+(s*m).toFixed(2),R=+(s+S+c).toFixed(2),C=`Review order:
Subtotal: $${s.toFixed(2)}
Tax: $${S.toFixed(2)}
Shipping: $${c.toFixed(2)}

Total: $${R.toFixed(2)}

Continue to Stripe Checkout?`;if(!window.confirm(C))return;const E={cart:o.items.map(b=>({product:b.product,quantity:b.quantity})),customer_name:g.name||l.name,customer_email:D||"",shippingCost:c,taxCost:S,captchaToken:t,shipping:l,billing:g,selectedRate:r?{id:r.object_id||((Y=r.raw)==null?void 0:Y.id)||r.rate_id||null,provider:r.provider||null,service:((te=r.servicelevel)==null?void 0:te.name)||r.service||null,amount:r.amount||null}:null},M=await fetch("/.netlify/functions/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});if(!M.ok){const b=await M.json().catch(()=>({error:"Unknown error"}));return alert(b.error||"Checkout failed")}const F=await M.json();F&&F.url&&(window.location=F.url)},children:"Place Order"})})]})})]})}export{me as default};
