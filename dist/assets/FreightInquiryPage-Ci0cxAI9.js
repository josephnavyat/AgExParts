import{c as u,r as d,j as e}from"./index-PZtE8jMc.js";import{N as x}from"./Navbar-BThQrc94.js";import{g as y}from"./imageUrl-BC-b4leq.js";function v(){var n;const s=((n=u().state)==null?void 0:n.cart)||{items:[]},[a,c]=d.useState({name:"",email:"",phone:"",address:"",city:"",state:"",zip:"",notes:""}),o=255,[i,m]=d.useState(!1),t=r=>{c({...a,[r.target.name]:r.target.value})},p=async r=>{if(r.preventDefault(),!a.name||!a.email||!a.phone||!a.address||!a.city||!a.state||!a.zip)return;await(await fetch("/.netlify/functions/create-freight-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({form:a,cart:s})})).json(),m(!0)},h=r=>y(r);return e.jsxs(e.Fragment,{children:[e.jsx(x,{}),e.jsxs("div",{style:{maxWidth:700,margin:"2rem auto",background:"#fff",borderRadius:16,boxShadow:"0 2px 12px rgba(0,0,0,0.10)",padding:"2rem",color:"#222"},children:[e.jsx("h2",{style:{marginBottom:"1.5rem",fontWeight:700},children:"Freight Inquiry"}),e.jsx("h3",{style:{marginBottom:"1rem",fontWeight:600},children:"Cart Summary"}),e.jsx("div",{className:"cart-cards",style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"2rem"},children:s.items.map(({product:r,quantity:l})=>e.jsxs("div",{className:"cart-card",style:{display:"flex",alignItems:"center",background:"#f8f8f8",borderRadius:12,padding:"1rem",boxShadow:"0 1px 4px #eee",width:"100%"},children:[r.image&&e.jsx("img",{src:h(r.image),alt:r.name,style:{width:60,height:60,objectFit:"cover",borderRadius:8,boxShadow:"0 1px 4px #ccc",marginRight:16},loading:"lazy",onError:g=>{g.currentTarget.src="/logo.png"}}),e.jsxs("div",{style:{flex:1},children:[e.jsx("span",{className:"cart-product-name",style:{fontWeight:700,fontSize:"1.05rem",display:"block",marginBottom:2},children:r.name.length>100?r.name.slice(0,100)+"â€¦":r.name}),r.sku&&e.jsxs("span",{className:"cart-product-sku",style:{fontSize:"0.95rem",color:"#666",display:"block",marginBottom:2},children:["SKU: ",r.sku]}),e.jsxs("span",{className:"cart-product-weight",style:{fontSize:"0.95rem",color:"#388e3c",display:"block",marginTop:2},children:["Weight: ",r.weight?r.weight+" lbs":"N/A"]}),e.jsxs("span",{style:{fontSize:"0.95rem",color:"#222",display:"block",marginTop:2},children:["Qty: ",l]}),e.jsxs("span",{style:{fontSize:"0.95rem",color:"#222",display:"block",marginTop:2},children:["Price: $",Number(r.price).toFixed(2)]})]})]},r.id))}),e.jsxs("form",{onSubmit:p,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[e.jsx("input",{name:"name",value:a.name,onChange:t,placeholder:"Full Name",required:!0,style:{padding:"0.7rem",borderRadius:8,border:"1px solid #ccc"}}),e.jsx("input",{name:"email",value:a.email,onChange:t,placeholder:"Email",required:!0,type:"email",style:{padding:"0.7rem",borderRadius:8,border:"1px solid #ccc"}}),e.jsx("input",{name:"phone",value:a.phone,onChange:t,placeholder:"Phone",required:!0,style:{padding:"0.7rem",borderRadius:8,border:"1px solid #ccc"}}),e.jsx("input",{name:"address",value:a.address,onChange:t,placeholder:"Street Address",required:!0,style:{padding:"0.7rem",borderRadius:8,border:"1px solid #ccc"}}),e.jsx("input",{name:"city",value:a.city,onChange:t,placeholder:"City",required:!0,style:{padding:"0.7rem",borderRadius:8,border:"1px solid #ccc"}}),e.jsx("input",{name:"state",value:a.state,onChange:t,placeholder:"State",required:!0,style:{padding:"0.7rem",borderRadius:8,border:"1px solid #ccc"}}),e.jsx("input",{name:"zip",value:a.zip,onChange:t,placeholder:"ZIP Code",required:!0,style:{padding:"0.7rem",borderRadius:8,border:"1px solid #ccc"}}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("textarea",{name:"notes",value:a.notes,onChange:t,placeholder:"Additional Notes (optional)",rows:3,maxLength:o,style:{padding:"0.7rem",borderRadius:8,border:"1px solid #ccc",width:"100%"}}),e.jsxs("div",{style:{fontSize:"0.9rem",color:"#888",textAlign:"right",marginTop:2},children:[o-a.notes.length," characters left"]})]}),e.jsx("button",{type:"submit",style:{background:i?"#eee":"#557a2cff",color:i?"#aaa":"#fff",fontWeight:700,fontSize:"1.1rem",borderRadius:8,padding:"0.7rem 2rem",border:"none",marginTop:8,cursor:i?"not-allowed":"pointer",opacity:i?.7:1},disabled:i,children:"Submit Inquiry"})]}),i&&e.jsx("div",{style:{marginTop:"2rem",color:"#28a745",fontWeight:600,fontSize:"1.1rem"},children:"Thank you! Your freight inquiry has been submitted. We will get back to you with a shipping quote within 24-48 hours. Please see your email."})]})]})}export{v as default};
