import{d as x,r as a,j as e,L as f}from"./index-BPhBAx7Z.js";/* empty css                       */function u(){const n=x(),t=new URLSearchParams(n.search).get("q")||"",[c,o]=a.useState([]),[d,m]=a.useState(!0),[i,g]=a.useState(null);a.useEffect(()=>{const s=new AbortController;return(async()=>{try{const r=await fetch("/.netlify/functions/get-data",{signal:s.signal});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const h=await r.json();o(h)}catch(r){r.name!=="AbortError"&&g(r.message)}finally{m(!1)}})(),()=>s.abort()},[]);const l=c.filter(s=>s.website_visible===!0&&s.name&&s.name.toLowerCase().includes(t.toLowerCase()));return e.jsxs("div",{className:"simple-gallery-root",children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:32,marginBottom:16},children:e.jsx("h2",{className:"simple-gallery-title",style:{flex:1,textAlign:"center",margin:0},children:"Search Results"})}),e.jsx("hr",{className:"simple-gallery-divider"}),e.jsx("div",{className:"simple-gallery-layout",style:{position:"relative"},children:e.jsx("div",{className:"simple-gallery-grid",children:d?e.jsx("div",{children:"Loading..."}):i?e.jsxs("div",{children:["Error: ",i]}):l.length===0?e.jsxs("div",{children:['No results found for "',t,'".']}):l.map(s=>e.jsxs("div",{className:"simple-gallery-card",children:[e.jsxs("picture",{children:[e.jsx("source",{srcSet:s.image.replace(/\.(jpg|jpeg|png)$/i,".webp"),type:"image/webp"}),e.jsx("img",{src:s.image,alt:s.name,style:{width:"100%",height:"auto",objectFit:"contain",background:"#f8f8f8",borderRadius:10},loading:"lazy",srcSet:s.image+" 1x, "+s.image.replace(/\.(jpg|jpeg|png)$/i,"@2x.$1")+" 2x"})]}),e.jsx("h3",{className:"simple-gallery-card-title",children:s.name}),e.jsxs("div",{className:"simple-gallery-card-price",style:{margin:"8px 0 0 0",fontSize:"1.15rem",fontWeight:700},children:["$",Number(s.price).toFixed(2)]}),e.jsx("div",{className:"simple-gallery-card-actions",children:e.jsx(f,{to:`/product/${s.id}`,className:"simple-gallery-btn secondary",children:"View Details"})})]},s.id))})})]})}export{u as default};
