import{r as m,j}from"./index-DQiy-OUL.js";import{g as o}from"./getImageUrl-uc-Sp53x.js";function $({src:c,alt:f="",className:g,style:l,loading:x="lazy",onLoad:h,onError:p,sizes:b,srcSet:S}){const i=m.useRef(0),[w,e]=m.useState(()=>{if(!c)return"/logo.png";const t=String(c).trim();return t.startsWith("http://")||t.startsWith("https://")?t:o(t)}),y=()=>{i.current+=1;const t=i.current;try{const n=String(c||"").trim().split("/").pop(),s=n.lastIndexOf("."),a=s!==-1?n.slice(0,s):n,u=s!==-1?n.slice(s):"";if(t===1){const r=a+".webp";e(o(r));return}if(t===2){const r=`${a}_2${u}`;e(o(r));return}if(t===3){const r=`${a}.thumb.webp`;e(o(r));return}}catch{}e("/logo.png")},I=t=>{i.current<3?y():e("/logo.png"),typeof p=="function"&&p(t)};return j.jsx("img",{src:w,alt:f,className:g,style:l,loading:x,onError:I,onLoad:h,sizes:b,srcSet:S})}export{$ as S};
