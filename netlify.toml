[build]
  publish = "dist"

[functions]
directory = "netlify/functions"
node_bundler = "zisi"

[context.production]
  [[context.production.headers]]
    for = "/*"
    [context.production.headers.values]
      Content-Security-Policy = "default-src 'self' https://*.stripe.com https://*.cloudflare.com https://*.netlify.com; script-src 'self' 'unsafe-inline' https://*.stripe.com https://*.cloudflare.com; connect-src 'self' https://*.stripe.com https://*.netlify.com; style-src 'self' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; worker-src 'self' blob:;"

[[redirects]]
  from = "/assets/*"
  to = "/assets/:splat"
  status = 200
  force = true

[[redirects]]
  from = "/service-worker.js"
  to = "/service-worker.js"
  status = 200
  force = true

[[redirects]]
  from = "/robots.txt"
  to = "/robots.txt"
  status = 200
  force = true

[[redirects]]
  from = "/@vite/*"
  to = "/@vite/:splat"
  status = 200
  force = true

[[redirects]]
  from = "/src/*"
  to = "/src/:splat"
  status = 200
  force = true

[[redirects]]
  from = "/src/styles/*"
  to = "/src/styles/:splat"
  status = 200
  force = true
[functions]
directory = "netlify/functions"
node_bundler = "zisi"